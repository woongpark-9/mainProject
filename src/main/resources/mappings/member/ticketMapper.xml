<!DOCTYPE mapper

  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"

  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">



<mapper namespace="ticketMapper">
	<resultMap type="ticketVO" id="ticketResult">
	<id property="ticket_id" column="TICKET_ID" />
	<result property="ticket_name" column="TICKET_NAME" />
	<result property="ticket_period" column="TICKET_PERIOD"/>
	<result property="ticket_price" column="TICKET_PRICE" />
	<result property="ticket_status" column="TICKET_STATUS"/>
	<result property="ticket_recommend" column="TICKET_RECOMMEND"/>
</resultMap>
<!-- 일반티켓 리스트 --> 
<select id="getNormalTicketList" resultMap="ticketResult">

	SELECT ticket_id,ticket_name,ticket_period/30 as ticket_period , ticket_price , ticket_status , ticket_recommend FROM TICKET WHERE TICKET_NAME= #{ticket_name} AND TICKET_RECOMMEND='N' AND TICKET_STATUS='Y' 
</select>

<!-- 티켓리스트 -->

<select id="getTicketList" resultMap="ticketResult">

	SELECT * FROM TICKET WHERE TICKET_NAME= #{ticket_name} ORDER BY TICKET_PRICE ASC
</select>

<!-- 추천티켓 리스트  -->

<select id="getRecommendTicketList" resultMap="ticketResult">

	SELECT ticket_id,ticket_name,ticket_period/30 as ticket_period , ticket_price , ticket_status , ticket_recommend FROM TICKET WHERE TICKET_NAME= #{ticket_name} AND TICKET_RECOMMEND='Y' AND TICKET_STATUS='Y'  ORDER BY TICKET_PRICE ASC 
</select> 


</mapper>